# BGP Network Topology Configuration
# A hierarchical model with transit, peers, and customers.

[Routers]
# Format: RouterID AS_Number

# AS 65001 (Tier 1 Transit)
10.1.1.1 65001 # Route Reflector
10.1.1.2 65001 # Edge router to AS 65002
10.1.1.3 65001 # Edge router to AS 65003

# AS 65002 (Tier 2 Provider)
10.2.2.1 65002 # Edge router to AS 65001
10.2.2.2 65002 # Edge router to AS 65003 (peering)
10.2.2.3 65002 # Edge router to AS 65004 (customer)

# AS 65003 (Tier 2 Provider)
10.3.3.1 65003 # Edge router to AS 65001
10.3.3.2 65003 # Edge router to AS 65002 (peering)

# AS 65004 (Stub Customer)
10.4.4.1 65004 # Edge router to AS 65002

# AS 65005 (To be added dynamically)
10.5.5.1 65005

[Links]
# Format: Router1 Router2

# --- iBGP Links ---
# AS 65001 (Hub-and-spoke for Route Reflector testing)
10.1.1.1 10.1.1.2
10.1.1.1 10.1.1.3
# Note: 10.1.1.2 and 10.1.1.3 are NOT connected. This requires RR.

# AS 65002 (Full mesh)
10.2.2.1 10.2.2.2
10.2.2.1 10.2.2.3
10.2.2.2 10.2.2.3

# AS 65003 (Simple link)
10.3.3.1 10.3.3.2

# --- eBGP Links ---
# AS 65001 (Tier 1) -> AS 65002 (Customer)
10.1.1.2 10.2.2.1

# AS 65001 (Tier 1) -> AS 65003 (Customer)
10.1.1.3 10.3.3.1

# AS 65002 <-> AS 65003 (Peering)
10.2.2.2 10.3.3.2
10.2.2.3 10.4.4.1

[Prefixes]
65001 1.1.0.0/16
65002 2.2.0.0/16
65003 3.3.0.0/16
65004 4.4.0.0/16
65005 5.5.0.0/16